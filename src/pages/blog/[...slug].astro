---
  import type { Entry } from '../../content/config';
  import { getCollection } from 'astro:content';
  import Layout from '../../layouts/page.astro';
  import { InferGetStaticParamsType, InferGetStaticPropsType, GetStaticPaths } from 'astro';

  export async function getStaticPaths() {
    const blogEntries = await getCollection('blog');
    return blogEntries.map(entry => ({
      params: { slug: entry.slug }, props: { entry },
    }));
  }


  type Params = InferGetStaticParamsType<typeof getStaticPaths>;
  type Props = InferGetStaticPropsType<typeof getStaticPaths>;

  const { entry } = Astro.props as Props;
  const { Content } = await entry.render();
---

<Layout title={entry.data.title}>
  <h1>{entry.data.title}</h1>
  <time datetime={entry.data.date.toISOString()}>{entry.data.date.toDateString()}</time>
  <Content />
</Layout>
